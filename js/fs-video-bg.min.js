!function(e){"use strict";function t(t){var a=t.getElementsByTagName("source");e.Modernizr&&e.Modernizr.on&&e.Modernizr.on("videoautoplay",function(){for(var e=0;e<a.length;e++){var i=a[e];if(void 0!==i.dataset.src){var r=document.createElement("source");r.setAttribute("src",i.dataset.src),t.appendChild(r)}}})}function a(e){4==e.readyState?e.play():e.addEventListener("canplay",function(){this.play(),this.classList.add("load-complete")})}function i(t){for(var a=[],i=t.getElementsByTagName("poster-source"),r=e.devicePixelRatio||Math.round(e.screen.availWidth/document.documentElement.clientWidth),n=0;n<i.length;n++){var o=i[n],d=o.getAttribute("media");(!d||e.matchMedia&&e.matchMedia(d).matches)&&a.push(o)}if(a.length>0){var s,c=a[0].getAttribute("srcset").split(","),l=0;if(c.length>0)for(var u=0;u<c.length;u++){var v=c[u].trim().split(" "),h=void 0!==v[1]?parseFloat(v[1].replace("x","")):1;(Math.abs(e.devicePixelRatio-h)<=Math.abs(r-l)||0===l)&&(l=h,s=v[0].trim())}}var m=new Image;m.setAttribute("src",s),m.addEventListener("load",function(){t.classList.add("poster-loaded")}),t.setAttribute("poster",s)}e.addEventListener("load",function(){for(var e=document.querySelectorAll("video.video-bg"),r=0;r<e.length;r++)t(e[r]),a(e[r]),i(e[r])})}(window);